{"version":3,"file":"js/831.c7b8f436.js","mappings":"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","sources":["webpack://web/./src/views/Play.vue","webpack://web/./src/stores/counter.js","webpack://web/./src/themes/play/1.vue","webpack://web/./src/themes/play/1.vue?ab32","webpack://web/./src/views/Play.vue?6cf5"],"sourcesContent":["<script setup>\r\nimport { ref, onMounted, onUnmounted } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\n\r\nimport api from '../api'\r\nimport { useCounterStore } from '../stores/counter.js'\r\nimport { initTheme, updateTheme, setCookie } from '../useDB/setting.js'\r\n\r\n// Add Theme Here\r\nimport Theme1 from '../themes/play/1.vue';\r\n\r\nconst router = useRouter()\r\n\r\nconst props = defineProps({\r\n  songid: [String, Number],\r\n  title: [String, Number],\r\n  artist: [String, Number],\r\n  album: [String, Number],\r\n  cover: [String, Number],\r\n  publishTime: [String, Number],\r\n})\r\nconsole.log(props)\r\n\r\nconst playTheme = ref(1) \r\nconst darkTheme = ref(false)\r\n\r\nconst database = 'CreamPlayer'\r\nconst store = 'Setting'\r\nconst settingKey = 'playTheme'\r\nconst settingDark = 'darkTheme'\r\n\r\nconst songUrl = ref('')\r\nconst songLyrics = ref([])\r\nconst audio = ref(null)\r\nconst currentHighlight = ref(0)\r\nconst isVip = ref(false)\r\n\r\nconst counterStore = useCounterStore()\r\n\r\nconst q = counterStore.lastSearch\r\nconsole.log(q)\r\nfunction returnSearch() {\r\n  router.push({\r\n    name: 'search',\r\n    params: {\r\n      q: q\r\n    }  \r\n  })\r\n}\r\n\r\nfunction processLyricsTime(lrc) {\r\n  const lyrics = lrc.split('\\n')\r\n  const regex = /\\[(\\d{2}):(\\d{2})\\.?(\\d{2,3})?\\](.*)/ \r\n  return lyrics.map(line => {\r\n    const matches = regex.exec(line)\r\n    if (matches) {\r\n      const min = matches[1]\r\n      const sec = matches[2]\r\n      const msec = ('0.' + matches[3]) || '0'\r\n      const time = parseInt(min) * 60 + parseFloat(sec) + parseFloat(msec)\r\n      // console.log(min, sec, msec, time, matches[4])\r\n      return {\r\n        time,\r\n        text: matches[4]  \r\n      } \r\n    } else if (line != '') {\r\n      return {\r\n        time: 777404,\r\n        text: line\r\n      }\r\n    }\r\n    return line\r\n  })\r\n}\r\n\r\nfunction audioControl(event) {\r\n  if(event.key === ' ') {\r\n    event.preventDefault();\r\n    if(audio.value.paused) {\r\n      audio.value.play() \r\n    } else {\r\n      audio.value.pause()\r\n    }\r\n  } else if(event.key === 'ArrowUp') {\r\n    event.preventDefault();\r\n    counterStore.increaseVolume()\r\n    audio.value.volume = counterStore.volume\r\n    console.log(counterStore.volume)\r\n  } else if(event.key === 'ArrowDown') {\r\n    event.preventDefault();\r\n    counterStore.decreaseVolume()\r\n    audio.value.volume = counterStore.volume\r\n    console.log(counterStore.volume)\r\n  } else if(event.key === 'ArrowLeft') {\r\n    audio.value.currentTime -= 3;\r\n  } else if(event.key === 'ArrowRight') { \r\n    audio.value.currentTime += 3;\r\n  }\r\n}\r\nconsole.log(counterStore.volume)\r\n\r\nonMounted(async () => {\r\n  initTheme(database, store, settingKey, playTheme);\r\n  await initTheme(database, store, settingDark, darkTheme);\r\n  if (darkTheme.value && !document.body.classList.contains('dark')) {\r\n    document.body.classList.toggle('dark');\r\n  }\r\n\r\n  api.getSongUrl(props.songid).then(res => {\r\n    try {\r\n      songUrl.value = res['data'][0]['url']\r\n      if (!songUrl.value) throw new Error\r\n    } catch (error) {\r\n      console.log('fail load song url')\r\n      isVip.value = true\r\n    }\r\n  })\r\n  api.getSongLyrics(props.songid).then(res => {\r\n    const lyrics = processLyricsTime(res.lrc.lyric)\r\n    if (lyrics[0].time == null) { \r\n      songLyrics.value = [{ time: 0, text: lyrics}]\r\n    } else {\r\n      songLyrics.value = lyrics\r\n    }\r\n  })\r\n\r\n  window.addEventListener('keydown', audioControl)\r\n  audio.value.volume = counterStore.volume\r\n})\r\nonUnmounted(() => {\r\n  window.removeEventListener('keydown', audioControl)\r\n})\r\n\r\nfunction switchTheme(newValue) {\r\n  updateTheme(database, store, settingKey, playTheme, newValue)\r\n  console.log('Setting')\r\n}\r\n\r\nconst onTimeUpdate = () => {\r\n  if (!audio.value) { return } \r\n  const currentTime = audio.value.currentTime\r\n  for (const lyric of songLyrics.value) {\r\n    if (currentTime >= lyric.time) {\r\n      currentHighlight.value = lyric.time\r\n    }\r\n  }\r\n} \r\n\r\nconst inputRef = ref(null)\r\nconst coockieValue = ref(null)\r\nasync function searchEnter() {\r\n  console.log(coockieValue.value)\r\n  await setCookie(coockieValue.value)\r\n  location.reload();\r\n}\r\nfunction onClick() {\r\n  inputRef.value.focus()\r\n}\r\n</script>\r\n<template>\r\n  <div class=\"left-return\" title=\"返回\" @click=\"returnSearch\"></div>\r\n  <audio id=\"audio\" class=\"audio\" ref=\"audio\" :src=\"songUrl\" @timeupdate=\"onTimeUpdate\" autoplay loop></audio>\r\n  <div v-if=\"isVip\" class=\"isVip\" @click=\"onClick\">\r\n    <input class=\"cookie-input\" placeholder=\"VIP Cookie\" v-model=\"coockieValue\" @keyup.enter=\"searchEnter\" autofocus ref=\"inputRef\"> \r\n  </div>\r\n  <Theme1 v-else\r\n    :songUrl=\"songUrl\" \r\n    :songLyrics=\"songLyrics\"\r\n    :title=\"title\"\r\n    :artist=\"artist\"\r\n    :album=\"album\"\r\n    :cover=\"cover\"\r\n    :publishTime=\"publishTime\"\r\n    @switch=\"switchTheme\"\r\n    @return=\"returnSearch\"\r\n    :audio=\"audio\"\r\n    :currentHighlight=\"currentHighlight\"\r\n    v-if=\"playTheme == 1\">\r\n  </Theme1>\r\n  \r\n</template>\r\n<style>\r\n.left-return {\r\n  position: fixed;\r\n  height: 100%;\r\n  width: 22px;\r\n  cursor: pointer;\r\n  z-index: 22;\r\n}\r\n.isVip {  \r\n  z-index: 1;\r\n  height: 100%;\r\n  width: 100%;\r\n  position: fixed;\r\n  background-color: white;\r\n}\r\nbody.dark .isVip {\r\n  background-color: black;\r\n}\r\nbody.dark .cookie-input {\r\n  background-color: black;\r\n}\r\n.cookie-input {\r\n  color: red;\r\n  border: 1px solid;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  width: 99%;\r\n  transform: translate(-50%, -50%);\r\n  font-size: 7.7vw; \r\n  text-align: center;\r\n  border-color: transparent;  \r\n  font-family: 'SuperBlack', Arial, sans-serif;\r\n}\r\n.cookie-input:focus {\r\n  outline: none;\r\n  border: none;\r\n}\r\n</style>","import { defineStore } from 'pinia'\r\n\r\nexport const useCounterStore = defineStore('counter', {\r\n  state: () => {\r\n    return {\r\n      lastSearch: '',\r\n      volume: 0.7\r\n    }\r\n  },\r\n  persist: {\r\n    enabled: true,\r\n    strategies: [\r\n      {\r\n        key: 'lastSearch',\r\n        storage: localStorage\r\n      },\r\n      { \r\n        key: 'volume',\r\n        storage: localStorage  \r\n      }\r\n    ]\r\n  },\r\n  actions: {\r\n    setLastSearch(searchTerm) {\r\n      this.lastSearch = searchTerm\r\n    },\r\n\r\n    increaseVolume() {\r\n      this.volume = Math.min(1, this.volume + 0.1)\r\n      this.volume = Math.round(this.volume* 10) / 10\r\n    },\r\n    decreaseVolume() {\r\n      this.volume = Math.max(0, this.volume - 0.1)\r\n      this.volume = Math.round(this.volume* 10) / 10\r\n    }\r\n  }\r\n})\r\n","<script setup>\r\nimport { ref, watch, nextTick, onMounted } from 'vue'\r\n\r\nconst props = defineProps({\r\n  songUrl: [String, Number],\r\n  songLyrics: Array,\r\n  title: [String, Number],\r\n  artist: [String, Number],\r\n  album: [String, Number],\r\n  cover: [String, Number],\r\n  publishTime: [String, Number],\r\n  audio: HTMLAudioElement,\r\n  currentHighlight: [String, Number],\r\n})\r\n\r\nconst pureLyrics = ref([]) \r\nconst lyricsContainer = ref(null)\r\n\r\nconst emit = defineEmits(['switch', 'return']) \r\nfunction changeTheme() {\r\n  emit('switch', 2)\r\n}\r\nfunction returnSearch() {\r\n  emit('return')\r\n}\r\n\r\nfunction getFontSize(item) {\r\n  if(!item.text) return '3vw'\r\n  if(/^\\s+$/.test(item.text)) {\r\n    return '14px'; \r\n  }\r\n  const maxWidth = window.innerWidth + 'px'\r\n  let size = 1\r\n  while(true) {\r\n    if (size >= 40) return String(size) + 'vw' \r\n    const fontSize = String(size) + 'vw'\r\n    const result = willTextWrap(item.text, fontSize, maxWidth)\r\n    if (result) {\r\n      return String(size - 1.1) + 'vw'\r\n    } else {\r\n      size++\r\n    }\r\n  }\r\n}\r\n\r\nfunction willTextWrap(text, fontSize, maxWidth) {\r\n  const testEl = document.createElement('div');\r\n  testEl.style.fontSize = fontSize;\r\n  testEl.style.maxWidth = maxWidth;\r\n  testEl.innerText = text;\r\n  testEl.style.fontFamily = \"'SuperBlack', Arial, sans-serif\";\r\n  testEl.style.overflowWrap = 'anywhere';\r\n  testEl.style.whiteSpace = 'pre';\r\n  document.body.appendChild(testEl);\r\n  const isWrapped = testEl.scrollWidth > testEl.clientWidth;\r\n  document.body.removeChild(testEl);\r\n  return isWrapped;\r\n}\r\n\r\nfunction jumpTo(item) {\r\n  if (item.time != 777404) {\r\n    props.audio.currentTime = item.time\r\n  }\r\n}\r\n\r\n// function smoothScrollTo(element, to, duration) {\r\n//   const start = element.scrollTop;\r\n//   const change = to - start;\r\n//   const increment = 20;\r\n//   let currentTime = 0;\r\n  \r\n//   const animateScroll = () => {\r\n//     currentTime += increment;\r\n//     const val = Math.easeInOutQuad(currentTime, start, change, duration);\r\n//     element.scrollTop = val;\r\n//     if(currentTime < duration) {\r\n//       setTimeout(animateScroll, increment);\r\n//     }\r\n//   };\r\n//   animateScroll();\r\n// }\r\nonMounted(async () => {\r\n  watch(() => props.currentHighlight, (newVal, oldVal) => {\r\n    nextTick(() => {  \r\n      try {\r\n        const active = document.getElementsByClassName('active')[0]\r\n        const top = active.offsetTop\r\n        console.log(top)\r\n        const viewportHeight = document.documentElement.clientHeight\r\n        const offset = active.offsetTop - (viewportHeight / 2) + (active.clientHeight / 2)\r\n        document.documentElement.scrollTop = offset \r\n      } catch (e) {\r\n        console.log('Failed to get active element, skip scrolling'); \r\n      }\r\n    })\r\n  })\r\n  await new Promise(resolve => {\r\n    watch(() => props.songLyrics, resolve) \r\n  })\r\n\r\n  function wipeLyrics(Lyrics) {\r\n    let firstLine = true\r\n    return Lyrics.value.map(line => {\r\n      if (firstLine) {\r\n        if (line == \"\"\r\n            || line.text.includes(':') \r\n            || line.text.includes('：') \r\n            || line.text.includes('-')\r\n            || line.text.includes('(')\r\n            || line.text.includes('（')\r\n            || line.text.includes('《')) {\r\n          return false\r\n        } else {\r\n          firstLine = false\r\n        }\r\n      }\r\n      return line\r\n    })\r\n  }\r\n  pureLyrics.value = props.songLyrics\r\n  pureLyrics.value = wipeLyrics(pureLyrics)\r\n  pureLyrics.value = pureLyrics.value.reverse() \r\n  pureLyrics.value = wipeLyrics(pureLyrics)\r\n  pureLyrics.value.push({ time: 0, text: ' ' })\r\n  pureLyrics.value = pureLyrics.value.reverse() \r\n  console.log(pureLyrics.value)\r\n})\r\n\r\n</script>\r\n<template>\r\n  <div class=\"player\">\r\n    <div class=\"lyrics-container\" ref=\"lyricsContainer\">\r\n      <div \r\n        v-for=\"item in pureLyrics\" \r\n        class=\"lyrics\" \r\n        :key=\"item.time\" \r\n        @click=\"jumpTo(item)\" \r\n        :style=\"{fontSize: getFontSize(item)}\"\r\n        :class=\"{ active: item.time === currentHighlight }\">\r\n          {{ item.text }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<style scoped>\r\n::selection {\r\n  background-color: transparent;\r\n}\r\n.player {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  font-family: 'SuperBlack', Arial, sans-serif;\r\n}\r\n.lyrics-container {\r\n  width: 100%;\r\n  text-align: center;\r\n  position: absolute;\r\n  cursor: default;\r\n  overflow-y: auto;\r\n}\r\n.active {\r\n  color: red;\r\n  \r\n}\r\nbody.dark .lyrics-container {\r\n  color: #c4c4c4;\r\n}\r\n\r\n</style>","import script from \"./1.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./1.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./1.vue?vue&type=style&index=0&id=2d3cc0c1&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2d3cc0c1\"]])\n\nexport default __exports__","import script from \"./Play.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Play.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Play.vue?vue&type=style&index=0&id=5830536a&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["database","store","settingKey","settingDark","router","useRouter","console","log","props","playTheme","ref","darkTheme","songUrl","songLyrics","audio","currentHighlight","isVip","counterStore","useCounterStore","q","lastSearch","returnSearch","push","name","params","processLyricsTime","lrc","lyrics","split","regex","map","line","matches","exec","min","sec","msec","time","parseInt","parseFloat","text","audioControl","event","key","preventDefault","value","paused","play","pause","increaseVolume","volume","decreaseVolume","currentTime","switchTheme","newValue","updateTheme","onMounted","async","initTheme","document","body","classList","contains","toggle","api","getSongUrl","songid","then","res","Error","error","getSongLyrics","lyric","window","addEventListener","onUnmounted","removeEventListener","onTimeUpdate","inputRef","coockieValue","searchEnter","setCookie","location","reload","onClick","focus","defineStore","state","persist","enabled","strategies","storage","localStorage","actions","setLastSearch","searchTerm","this","Math","round","max","pureLyrics","lyricsContainer","getFontSize","item","test","maxWidth","innerWidth","size","String","fontSize","result","willTextWrap","testEl","createElement","style","innerText","fontFamily","overflowWrap","whiteSpace","appendChild","isWrapped","scrollWidth","clientWidth","removeChild","jumpTo","wipeLyrics","Lyrics","firstLine","includes","watch","newVal","oldVal","nextTick","active","getElementsByClassName","top","offsetTop","viewportHeight","documentElement","clientHeight","offset","scrollTop","e","Promise","resolve","reverse","__exports__"],"sourceRoot":""}